{"version":3,"file":"drawflow.min.js","mappings":"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","sources":["webpack://Drawflow/webpack/universalModuleDefinition","webpack://Drawflow/webpack/bootstrap","webpack://Drawflow/webpack/runtime/define property getters","webpack://Drawflow/webpack/runtime/hasOwnProperty shorthand","webpack://Drawflow/./src/drawflow.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Drawflow\"] = factory();\n\telse\n\t\troot[\"Drawflow\"] = factory();\n})((typeof self !== 'undefined' ? self : this), () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import \"./drawflow.css\";\nfunction getNodeID(str) {\n    return str.slice(5);\n}\nfunction getConnectionData(classList) {\n    return {\n        output_id: classList[2].slice(14),\n        input_id: classList[1].slice(13),\n        output_class: classList[3],\n        input_class: classList[4],\n    };\n}\nfunction insertObjectkeys(content, obj, keys) {\n    if (keys === void 0) { keys = []; }\n    if (obj === null || typeof obj !== \"object\")\n        return;\n    for (var key in obj) {\n        if (Object.hasOwnProperty.call(obj, key)) {\n            var value = obj[key];\n            if (typeof value === \"object\" && value !== null) {\n                insertObjectkeys(content, value, [key]);\n            }\n            else {\n                var completeKey = keys.concat(key).join(\"-\");\n                var elems = content.querySelectorAll(\"[df-\" + completeKey + \"]\");\n                for (var i = 0; i < elems.length; i++) {\n                    var elem = elems[i];\n                    if (elem instanceof HTMLInputElement ||\n                        elem instanceof HTMLTextAreaElement ||\n                        elem instanceof HTMLSelectElement) {\n                        elem.value = value.toString();\n                    }\n                    if (elem.isContentEditable) {\n                        elem.innerText = value.toString();\n                    }\n                }\n            }\n        }\n    }\n}\nfunction callRender(editor, render, type, id, data, content) {\n    var events = {};\n    var event = {\n        on: function (event, callback) {\n            // Check if the callback is not a function\n            if (typeof callback !== \"function\") {\n                console.error(\"The listener callback must be a function, the given type is \".concat(typeof callback));\n                return false;\n            }\n            // Check if the event is not a string\n            if (typeof event !== \"string\") {\n                console.error(\"The event name must be a string, the given type is \".concat(typeof event));\n                return false;\n            }\n            // Check if this event not exists\n            if (events[event] === undefined) {\n                events[event] = {\n                    listeners: [],\n                };\n            }\n            events[event].listeners.push(callback);\n        },\n        removeListener: function (event, callback) {\n            // Check if this event not exists\n            if (!events[event])\n                return false;\n            var listeners = events[event].listeners;\n            var listenerIndex = listeners.indexOf(callback);\n            var hasListener = listenerIndex > -1;\n            if (hasListener)\n                listeners.splice(listenerIndex, 1);\n        },\n        dispatch: function (event, details) {\n            // Check if this event not exists\n            if (events[event] === undefined) {\n                // console.error(`This event: ${event} does not exist`);\n                return false;\n            }\n            events[event].listeners.forEach(function (listener) {\n                listener(details);\n            });\n        },\n    };\n    var selected = false;\n    var handle = {\n        nodeMoved: function (_a) {\n            var id1 = _a.id, x = _a.x, y = _a.y;\n            if (id1 === id) {\n                event.dispatch(\"moved\", { x: x, y: y });\n            }\n        },\n        nodeSelected: function (id1) {\n            if (id1 === id) {\n                event.dispatch(\"selected\", null);\n                selected = true;\n            }\n        },\n        nodeUnselected: function () {\n            if (selected) {\n                event.dispatch(\"unselected\", null);\n            }\n        },\n        nodeUpdated: function (_a) {\n            var id1 = _a.id, data = _a.data;\n            if (id1 === id) {\n                event.dispatch(\"updated\", data);\n            }\n        },\n        nodeUpdateId: function (_a) {\n            var oldId = _a.oldId, newId = _a.newId;\n            if (oldId === id) {\n                id = newId;\n                event.dispatch(\"updatedId\", newId);\n            }\n        },\n        nodeRemoved: function (id1) {\n            if (id1 === id) {\n                for (var eventName in handle) {\n                    var callback = handle[eventName];\n                    editor.removeListener(eventName, callback);\n                }\n                event.dispatch(\"removed\", null);\n            }\n        },\n        connectionStart: function (connection) {\n            if (connection.output_id === id) {\n                event.dispatch(\"connectionStart\", connection);\n            }\n        },\n        connectionCreated: function (connection) {\n            if (connection.output_id === id || connection.input_id === id) {\n                event.dispatch(\"connectionCreated\", connection);\n            }\n        },\n        connectionRemoved: function (connection) {\n            if (connection.output_id === id || connection.input_id === id) {\n                event.dispatch(\"connectionRemoved\", connection);\n            }\n        },\n    };\n    for (var eventName in handle) {\n        var callback = handle[eventName];\n        editor.on(eventName, callback);\n    }\n    render({\n        register: editor.noderegister[type],\n        id: id,\n        data: data,\n        type: type,\n        content: content,\n        editor: editor,\n        event: event,\n    });\n}\nvar Drawflow = /** @class */ (function () {\n    function Drawflow(container, options) {\n        if (options === void 0) { options = {}; }\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n        this.container = container;\n        this.events = {};\n        this.precanvas = null;\n        this.nodeId = 1;\n        this.ele_selected = null;\n        this.node_selected = null;\n        this.drag = false;\n        this.drag_point = false;\n        this.editor_selected = false;\n        this.connection = false;\n        this.connection_ele = null;\n        this.connection_selected = null;\n        this.canvas_x = 0;\n        this.canvas_y = 0;\n        this.pos_x = 0;\n        this.pos_x_start = 0;\n        this.pos_y = 0;\n        this.pos_y_start = 0;\n        this.mouse_x = 0;\n        this.mouse_y = 0;\n        this.first_click = null;\n        this.noderegister = {};\n        this.drawflow = { drawflow: { Home: { data: {} } } };\n        // Configurable options\n        this.module = \"Home\";\n        this.editor_mode = \"edit\";\n        this.zoom = 1;\n        this.zoom_max = 2;\n        this.zoom_min = 1 / 10;\n        this.zoom_value = 0.2;\n        this.zoom_last_value = 1;\n        this.curvature = 0.5;\n        this.reroute = false;\n        this.reroute_fix_curvature = false;\n        this.reroute_curvature_start_end = 0.5;\n        this.reroute_curvature = 0.5;\n        this.reroute_width = 6;\n        this.force_first_input = false;\n        this.draggable_inputs = true;\n        this.useuuid = false;\n        // Mobile\n        this.evCache = [];\n        this.prevDiff = -1;\n        this.module = (_a = options.module) !== null && _a !== void 0 ? _a : this.module;\n        this.editor_mode = (_b = options.editor_mode) !== null && _b !== void 0 ? _b : this.editor_mode;\n        this.zoom = (_c = options.zoom) !== null && _c !== void 0 ? _c : this.zoom;\n        this.zoom_max = (_d = options.zoom_max) !== null && _d !== void 0 ? _d : this.zoom_max;\n        this.zoom_min = (_e = options.zoom_min) !== null && _e !== void 0 ? _e : this.zoom_min;\n        this.zoom_value = (_f = options.zoom_value) !== null && _f !== void 0 ? _f : this.zoom_value;\n        this.zoom_last_value = (_g = options.zoom_last_value) !== null && _g !== void 0 ? _g : this.zoom_last_value;\n        this.curvature = (_h = options.curvature) !== null && _h !== void 0 ? _h : this.curvature;\n        this.reroute = (_j = options.reroute) !== null && _j !== void 0 ? _j : this.reroute;\n        this.reroute_fix_curvature =\n            (_k = options.reroute_fix_curvature) !== null && _k !== void 0 ? _k : this.reroute_fix_curvature;\n        this.reroute_curvature_start_end =\n            (_l = options.reroute_curvature_start_end) !== null && _l !== void 0 ? _l : this.reroute_curvature_start_end;\n        this.reroute_curvature =\n            (_m = options.reroute_curvature) !== null && _m !== void 0 ? _m : this.reroute_curvature;\n        this.reroute_width = (_o = options.reroute_width) !== null && _o !== void 0 ? _o : this.reroute_width;\n        this.force_first_input =\n            (_p = options.force_first_input) !== null && _p !== void 0 ? _p : this.force_first_input;\n        this.draggable_inputs = (_q = options.draggable_inputs) !== null && _q !== void 0 ? _q : this.draggable_inputs;\n        this.useuuid = (_r = options.useuuid) !== null && _r !== void 0 ? _r : this.useuuid;\n        this.render = (_s = options.render) !== null && _s !== void 0 ? _s : this.render;\n    }\n    Object.defineProperty(Drawflow.prototype, \"zoomLevel\", {\n        get: function () {\n            return Math.log2(this.zoom);\n        },\n        set: function (value) {\n            this.zoom = Math.pow(2, value);\n            this.refreshZoom();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Drawflow.prototype.start = function () {\n        // console.info(\"Start Drawflow!!\");\n        this.container.classList.add(\"parent-drawflow\");\n        this.container.tabIndex = 0;\n        this.precanvas = document.createElement(\"div\");\n        this.precanvas.classList.add(\"drawflow\");\n        this.container.appendChild(this.precanvas);\n        /* Mouse and Touch Actions */\n        this.container.addEventListener(\"mouseup\", this._handleInputEnd.bind(this));\n        this.container.addEventListener(\"mousemove\", this._handleInputMove.bind(this));\n        this.container.addEventListener(\"mousedown\", this._handleInputStart.bind(this));\n        this.container.addEventListener(\"touchend\", this._handleInputEnd.bind(this));\n        this.container.addEventListener(\"touchmove\", this._handleInputMove.bind(this));\n        this.container.addEventListener(\"touchstart\", this._handleInputStart.bind(this));\n        /* Context Menu */\n        this.container.addEventListener(\"contextmenu\", this._handleContextmenu.bind(this));\n        /* Delete */\n        this.container.addEventListener(\"keydown\", this._handleKey.bind(this));\n        /* Zoom Mouse */\n        this.container.addEventListener(\"wheel\", this._handleZoom.bind(this));\n        /* Update data Nodes */\n        this.container.addEventListener(\"input\", this.updateNodeValue.bind(this));\n        this.container.addEventListener(\"dblclick\", this._dblclick.bind(this));\n        /* Mobile zoom */\n        this.container.onpointerdown = this._handlePointerdown.bind(this);\n        this.container.onpointermove = this._handlePointermove.bind(this);\n        this.container.onpointerup = this._handlePointerup.bind(this);\n        this.container.onpointercancel = this._handlePointerup.bind(this);\n        this.container.onpointerout = this._handlePointerup.bind(this);\n        this.container.onpointerleave = this._handlePointerup.bind(this);\n        this.load();\n    };\n    /* Mobile zoom */\n    Drawflow.prototype._handlePointerdown = function (ev) {\n        this.evCache.push(ev);\n    };\n    Drawflow.prototype._handlePointermove = function (ev) {\n        for (var i = 0; i < this.evCache.length; i++) {\n            if (ev.pointerId == this.evCache[i].pointerId) {\n                this.evCache[i] = ev;\n                break;\n            }\n        }\n        if (this.evCache.length == 2) {\n            // Calculate the distance between the two pointers\n            var curDiff = Math.abs(this.evCache[0].clientX - this.evCache[1].clientX);\n            if (this.prevDiff > 100) {\n                if (curDiff > this.prevDiff) {\n                    // The distance between the two pointers has increased\n                    this.zoomIn();\n                }\n                if (curDiff < this.prevDiff) {\n                    // The distance between the two pointers has decreased\n                    this.zoomOut();\n                }\n            }\n            this.prevDiff = curDiff;\n        }\n    };\n    Drawflow.prototype._handlePointerup = function (ev) {\n        this._removeEvent(ev);\n        if (this.evCache.length < 2) {\n            this.prevDiff = -1;\n        }\n    };\n    Drawflow.prototype._removeEvent = function (ev) {\n        // Remove this event from the target's cache\n        for (var i = this.evCache.length - 1; i >= 0; i--) {\n            if (this.evCache[i].pointerId == ev.pointerId) {\n                this.evCache.splice(i, 1);\n                break;\n            }\n        }\n    };\n    /* End Mobile Zoom */\n    Drawflow.prototype._handleInputStart = function (e) {\n        var _this = this;\n        var clearSelection = function () {\n            if (_this.node_selected != null) {\n                _this.node_selected.classList.remove(\"selected\");\n                if (_this.node_selected != _this.ele_selected) {\n                    _this.node_selected = null;\n                    _this.dispatch(\"nodeDeselected\", true);\n                }\n            }\n            if (_this.connection_selected != null) {\n                _this.connection_selected.classList.remove(\"selected\");\n                _this.deselectConnection();\n                _this.connection_selected = null;\n            }\n        };\n        this.dispatch(\"click\", e);\n        var target = e.target;\n        if (e instanceof MouseEvent && e.button === 1) {\n            this.editor_selected = true;\n        }\n        else if (e instanceof MouseEvent && e.button === 0) {\n            // get selected element\n            if (this.editor_mode === \"fixed\") {\n                if (target.classList[0] === \"parent-drawflow\" ||\n                    target.classList[0] === \"drawflow\") {\n                    this.ele_selected = target.closest(\".parent-drawflow\");\n                }\n                else {\n                    return false;\n                }\n            }\n            else if (this.editor_mode === \"view\") {\n                if (target.closest(\".drawflow\") != null ||\n                    target.matches(\".parent-drawflow\")) {\n                    this.ele_selected = target.closest(\".parent-drawflow\");\n                    e.preventDefault();\n                }\n            }\n            else {\n                this.first_click = target;\n                this.ele_selected = target;\n                if (e.button === 0) {\n                    if (this.precanvas.getElementsByClassName(\"drawflow-delete\").length) {\n                        this.precanvas\n                            .getElementsByClassName(\"drawflow-delete\")[0]\n                            .remove();\n                    }\n                }\n                if (target.closest(\".drawflow_content_node\") != null) {\n                    this.ele_selected = target.closest(\".drawflow_content_node\").parentElement;\n                }\n            }\n            switch (this.ele_selected.classList[0]) {\n                case \"drawflow-node\":\n                    clearSelection();\n                    if (this.node_selected != this.ele_selected) {\n                        this.dispatch(\"nodeSelected\", getNodeID(this.ele_selected.id));\n                    }\n                    this.node_selected = this.ele_selected;\n                    this.node_selected.classList.add(\"selected\");\n                    // cancel drag if an input element was clicked on\n                    if (!this.draggable_inputs) {\n                        if (target.tagName !== \"INPUT\" &&\n                            target.tagName !== \"TEXTAREA\" &&\n                            target.tagName !== \"SELECT\" &&\n                            target.hasAttribute(\"contenteditable\") !== true) {\n                            this.drag = true;\n                        }\n                    }\n                    else {\n                        if (target.tagName !== \"SELECT\") {\n                            this.drag = true;\n                        }\n                    }\n                    break;\n                case \"output\":\n                    this.connection = true;\n                    clearSelection();\n                    this._createConnection(target);\n                    break;\n                case \"drawflow\":\n                    clearSelection();\n                    this.editor_selected = e.type === \"touchstart\";\n                    break;\n                case \"main-path\":\n                    clearSelection();\n                    this.connection_selected = this.ele_selected;\n                    this.connection_selected.classList.add(\"selected\");\n                    this.dispatch(\"connectionSelected\", getConnectionData(this.connection_selected.ownerSVGElement.classList));\n                    if (this.reroute_fix_curvature) {\n                        this.connection_selected.parentElement\n                            .querySelectorAll(\".main-path\")\n                            .forEach(function (item) {\n                            item.classList.add(\"selected\");\n                        });\n                    }\n                    break;\n                case \"point\":\n                    this.drag_point = true;\n                    this.ele_selected.classList.add(\"selected\");\n                    break;\n                case \"drawflow-delete\":\n                    if (this.node_selected) {\n                        this.removeNodeId(this.node_selected.id);\n                    }\n                    if (this.connection_selected) {\n                        this.removeSelectedConnection();\n                    }\n                    clearSelection();\n                    break;\n                default:\n                    break;\n            }\n            if (this.ele_selected.classList.contains(\"parent-drawflow\")) {\n                clearSelection();\n                this.editor_selected = e.type === \"touchstart\";\n            }\n        }\n        if (e instanceof TouchEvent) {\n            this.pos_x = e.touches[0].clientX;\n            this.pos_x_start = e.touches[0].clientX;\n            this.pos_y = e.touches[0].clientY;\n            this.pos_y_start = e.touches[0].clientY;\n        }\n        else {\n            this.pos_x = e.clientX;\n            this.pos_x_start = e.clientX;\n            this.pos_y = e.clientY;\n            this.pos_y_start = e.clientY;\n        }\n        this.dispatch(\"clickEnd\", e);\n    };\n    Drawflow.prototype._handleInputMove = function (e) {\n        var e_pos_x, e_pos_y;\n        if (e instanceof TouchEvent) {\n            e_pos_x = e.touches[0].clientX;\n            e_pos_y = e.touches[0].clientY;\n        }\n        else {\n            e_pos_x = e.clientX;\n            e_pos_y = e.clientY;\n        }\n        if (this.connection) {\n            this._drawConnectionTo(e_pos_x, e_pos_y);\n        }\n        if (this.editor_selected) {\n            var x = this.canvas_x - this.pos_x + e_pos_x;\n            var y = this.canvas_y - this.pos_y + e_pos_y;\n            this.dispatch(\"translate\", { x: x, y: y });\n            this.precanvas.style.transform =\n                \"translate(\" + x + \"px, \" + y + \"px) scale(\" + this.zoom + \")\";\n        }\n        if (this.drag) {\n            var moduleData = this.drawflow.drawflow[this.module].data;\n            var selectedID = getNodeID(this.ele_selected.id);\n            var dx = (this.pos_x - e_pos_x) / this.zoom;\n            var dy = (this.pos_y - e_pos_y) / this.zoom;\n            this.pos_x = e_pos_x;\n            this.pos_y = e_pos_y;\n            moduleData[selectedID].pos_x -= dx;\n            moduleData[selectedID].pos_y -= dy;\n            this.ele_selected.style.left = moduleData[selectedID].pos_x + \"px\";\n            this.ele_selected.style.top = moduleData[selectedID].pos_y + \"px\";\n            this.updateNodeConnections(this.ele_selected.id);\n        }\n        if (this.drag_point) {\n            var moduleData = this.drawflow.drawflow[this.module].data;\n            this.pos_x = e_pos_x;\n            this.pos_y = e_pos_y;\n            var pos_x = (this.pos_x - this.precanvas.getBoundingClientRect().x) / this.zoom;\n            var pos_y = (this.pos_y - this.precanvas.getBoundingClientRect().y) / this.zoom;\n            this.ele_selected.setAttributeNS(null, \"cx\", pos_x.toString());\n            this.ele_selected.setAttributeNS(null, \"cy\", pos_y.toString());\n            var _a = getConnectionData(this.ele_selected.parentElement.classList), output_id = _a.output_id, input_id_1 = _a.input_id, output_class = _a.output_class, input_class_1 = _a.input_class;\n            var numberPointPosition = Array.from(this.ele_selected.parentElement.children).indexOf(this.ele_selected) - 1;\n            if (this.reroute_fix_curvature) {\n                var numberMainPath = this.ele_selected.parentElement.querySelectorAll(\".main-path\")\n                    .length - 1;\n                numberPointPosition -= numberMainPath;\n                if (numberPointPosition < 0) {\n                    numberPointPosition = 0;\n                }\n            }\n            var searchConnection = moduleData[output_id].outputs[output_class].connections.findIndex(function (item) { return item.node === input_id_1 && item.output === input_class_1; });\n            moduleData[output_id].outputs[output_class].connections[searchConnection].points[numberPointPosition] = {\n                pos_x: pos_x,\n                pos_y: pos_y,\n            };\n            this.updateNodeConnections(\"node-\".concat(output_id));\n        }\n        if (e.type === \"touchmove\") {\n            this.mouse_x = e_pos_x;\n            this.mouse_y = e_pos_y;\n        }\n        this.dispatch(\"mouseMove\", { x: e_pos_x, y: e_pos_y });\n    };\n    Drawflow.prototype._handleInputEnd = function (e) {\n        var e_pos_x;\n        var e_pos_y;\n        var ele_last;\n        if (e instanceof TouchEvent) {\n            e_pos_x = this.mouse_x;\n            e_pos_y = this.mouse_y;\n            ele_last = document.elementFromPoint(e_pos_x, e_pos_y);\n        }\n        else {\n            e_pos_x = e.clientX;\n            e_pos_y = e.clientY;\n            ele_last = e.target;\n        }\n        if (this.drag) {\n            if (this.pos_x_start != e_pos_x || this.pos_y_start != e_pos_y) {\n                var id = getNodeID(this.ele_selected.id);\n                var nodeData = this.getNodeFromId(id);\n                this.dispatch(\"nodeMoved\", {\n                    id: id,\n                    x: nodeData.pos_x,\n                    y: nodeData.pos_y,\n                });\n            }\n        }\n        if (this.drag_point) {\n            this.ele_selected.classList.remove(\"selected\");\n            if (this.pos_x_start != e_pos_x || this.pos_y_start != e_pos_y) {\n                this.dispatch(\"rerouteMoved\", getConnectionData(this.ele_selected.parentElement.classList).output_id);\n            }\n        }\n        if (this.editor_selected) {\n            this.canvas_x = this.canvas_x + -(this.pos_x - e_pos_x);\n            this.canvas_y = this.canvas_y + -(this.pos_y - e_pos_y);\n            this.editor_selected = false;\n        }\n        if (this.connection === true) {\n            if (ele_last.classList[0] === \"input\" ||\n                (this.force_first_input &&\n                    (ele_last.closest(\".drawflow_content_node\") != null ||\n                        ele_last.classList[0] === \"drawflow-node\"))) {\n                var input_id = void 0, input_class = void 0;\n                if (this.force_first_input &&\n                    (ele_last.closest(\".drawflow_content_node\") != null ||\n                        ele_last.classList[0] === \"drawflow-node\")) {\n                    if (ele_last.closest(\".drawflow_content_node\") != null) {\n                        input_id = ele_last.closest(\".drawflow_content_node\").parentElement\n                            .id;\n                    }\n                    else {\n                        input_id = ele_last.id;\n                    }\n                    if (Object.keys(this.getNodeFromId(getNodeID(input_id)).inputs)\n                        .length === 0) {\n                        input_class = \"\";\n                    }\n                    else {\n                        input_class = \"input_1\";\n                    }\n                }\n                else {\n                    // Fix connection;\n                    input_id = ele_last.parentElement.parentElement.id;\n                    input_class = ele_last.classList[1];\n                }\n                var output_id = this.ele_selected.parentElement.parentElement.id;\n                var output_class = this.ele_selected.classList[1];\n                if (output_id !== input_id && input_class) {\n                    if (this.container.querySelectorAll(\".connection.node_in_\" +\n                        input_id +\n                        \".node_out_\" +\n                        output_id +\n                        \".\" +\n                        output_class +\n                        \".\" +\n                        input_class).length === 0) {\n                        // Conection no exist save connection\n                        this.connection_ele.classList.add(\"node_in_\" + input_id);\n                        this.connection_ele.classList.add(\"node_out_\" + output_id);\n                        this.connection_ele.classList.add(output_class);\n                        this.connection_ele.classList.add(input_class);\n                        var id_input = getNodeID(input_id);\n                        var id_output = getNodeID(output_id);\n                        this.drawflow.drawflow[this.module].data[id_output].outputs[output_class].connections.push({ node: id_input, output: input_class });\n                        this.drawflow.drawflow[this.module].data[id_input].inputs[input_class].connections.push({ node: id_output, input: output_class });\n                        this.updateNodeConnections(\"node-\" + id_output);\n                        this.updateNodeConnections(\"node-\" + id_input);\n                        this.dispatch(\"connectionCreated\", {\n                            output_id: id_output,\n                            input_id: id_input,\n                            output_class: output_class,\n                            input_class: input_class,\n                        });\n                    }\n                    else {\n                        this.dispatch(\"connectionCancel\", true);\n                        this.connection_ele.remove();\n                    }\n                    this.connection_ele = null;\n                }\n                else {\n                    // Connection exists Remove Connection;\n                    this.dispatch(\"connectionCancel\", true);\n                    this.connection_ele.remove();\n                    this.connection_ele = null;\n                }\n            }\n            else {\n                // Remove Connection;\n                this.dispatch(\"connectionCancel\", true);\n                this.connection_ele.remove();\n                this.connection_ele = null;\n            }\n        }\n        this.drag = false;\n        this.drag_point = false;\n        this.connection = false;\n        this.ele_selected = null;\n        this.editor_selected = false;\n        this.dispatch(\"mouseUp\", e);\n    };\n    Drawflow.prototype._handleContextmenu = function (e) {\n        this.dispatch(\"contextmenu\", e);\n        e.preventDefault();\n        if (this.editor_mode === \"fixed\" || this.editor_mode === \"view\") {\n            return false;\n        }\n        if (this.precanvas.getElementsByClassName(\"drawflow-delete\").length) {\n            this.precanvas.getElementsByClassName(\"drawflow-delete\")[0].remove();\n        }\n        if (this.node_selected || this.connection_selected) {\n            var deletebox = document.createElement(\"div\");\n            deletebox.classList.add(\"drawflow-delete\");\n            deletebox.innerHTML = \"x\";\n            if (this.node_selected) {\n                this.node_selected.appendChild(deletebox);\n            }\n            if (this.connection_selected) {\n                deletebox.style.top =\n                    e.clientY * this.zoom -\n                        this.precanvas.getBoundingClientRect().y * this.zoom +\n                        \"px\";\n                deletebox.style.left =\n                    e.clientX * this.zoom -\n                        this.precanvas.getBoundingClientRect().x * this.zoom +\n                        \"px\";\n                this.precanvas.appendChild(deletebox);\n            }\n        }\n    };\n    Drawflow.prototype._handleKey = function (e) {\n        this.dispatch(\"keydown\", e);\n        if (this.editor_mode === \"fixed\" || this.editor_mode === \"view\") {\n            return false;\n        }\n        if (e.key === \"Delete\" || (e.key === \"Backspace\" && e.metaKey)) {\n            if (this.node_selected != null) {\n                if (this.first_click.tagName !== \"INPUT\" &&\n                    this.first_click.tagName !== \"TEXTAREA\" &&\n                    this.first_click.hasAttribute(\"contenteditable\") !== true) {\n                    this.removeNodeId(this.node_selected.id);\n                }\n            }\n            if (this.connection_selected != null) {\n                this.removeSelectedConnection();\n            }\n        }\n    };\n    Drawflow.prototype._handleZoom = function (event) {\n        event.preventDefault();\n        if (event.ctrlKey) {\n            this.zoomLevel -= event.deltaY / 100;\n        }\n        else {\n            this.canvas_x -= event.deltaX;\n            this.canvas_y -= event.deltaY;\n            this.dispatch(\"translate\", { x: this.canvas_x, y: this.canvas_y });\n            this.precanvas.style.transform =\n                \"translate(\" +\n                    this.canvas_x +\n                    \"px, \" +\n                    this.canvas_y +\n                    \"px) scale(\" +\n                    this.zoom +\n                    \")\";\n        }\n    };\n    Drawflow.prototype._dblclick = function (e) {\n        if (this.connection_selected != null && this.reroute) {\n            this.createReroutePoint(this.connection_selected);\n        }\n        if (e.target.classList[0] === \"point\") {\n            this.removeReroutePoint(e.target);\n        }\n    };\n    Drawflow.prototype.refreshZoom = function (silent) {\n        if (silent === void 0) { silent = false; }\n        this.zoom = Math.min(Math.max(this.zoom_min, this.zoom), this.zoom_max);\n        if (!silent)\n            this.dispatch(\"zoom\", this.zoom);\n        this.canvas_x = (this.canvas_x / this.zoom_last_value) * this.zoom;\n        this.canvas_y = (this.canvas_y / this.zoom_last_value) * this.zoom;\n        this.zoom_last_value = this.zoom;\n        this.precanvas.style.transform =\n            \"translate(\" +\n                this.canvas_x +\n                \"px, \" +\n                this.canvas_y +\n                \"px) scale(\" +\n                this.zoom +\n                \")\";\n    };\n    Drawflow.prototype.zoomIn = function (value) {\n        if (value === void 0) { value = this.zoom_value; }\n        this.zoomLevel += value;\n    };\n    Drawflow.prototype.zoomOut = function (value) {\n        if (value === void 0) { value = this.zoom_value; }\n        this.zoomLevel -= value;\n    };\n    Drawflow.prototype.resetZoom = function () {\n        if (this.zoom != 1) {\n            this.zoom = 1;\n            this.refreshZoom();\n        }\n    };\n    Drawflow.prototype.load = function () {\n        for (var key in this.drawflow.drawflow[this.module].data) {\n            this._addNodeImport(this.drawflow.drawflow[this.module].data[key], this.precanvas);\n        }\n        if (this.reroute) {\n            for (var key in this.drawflow.drawflow[this.module].data) {\n                this._addRerouteImport(this.drawflow.drawflow[this.module].data[key]);\n            }\n        }\n        for (var key in this.drawflow.drawflow[this.module].data) {\n            this.updateNodeConnections(\"node-\" + key);\n        }\n        var editor = this.drawflow.drawflow;\n        var number = 1;\n        for (var moduleName in editor) {\n            if (Object.hasOwnProperty.call(editor, moduleName)) {\n                var moduleData = editor[moduleName].data;\n                for (var id in moduleData) {\n                    if (Object.hasOwnProperty.call(moduleData, id)) {\n                        number = Math.max(number, parseInt(id) + 1);\n                    }\n                }\n            }\n        }\n        this.nodeId = number;\n    };\n    Drawflow.prototype.deselectConnection = function (silent) {\n        if (silent === void 0) { silent = false; }\n        if (!silent)\n            this.dispatch(\"connectionDeselected\", true);\n        if (this.reroute_fix_curvature) {\n            this.connection_selected.parentElement\n                .querySelectorAll(\".main-path\")\n                .forEach(function (item) {\n                item.classList.remove(\"selected\");\n            });\n        }\n    };\n    Drawflow.prototype.createCurvature = function (start_pos_x, start_pos_y, end_pos_x, end_pos_y, curvature) {\n        var line_x = start_pos_x;\n        var line_y = start_pos_y;\n        var x = end_pos_x;\n        var y = end_pos_y;\n        var handleSize = Math.abs(x - line_x) * curvature;\n        return (\"M\" +\n            [line_x, line_y].join() +\n            \"C\" +\n            [line_x + handleSize, line_y, x - handleSize, y, x, y].join());\n    };\n    Drawflow.prototype._createConnection = function (ele) {\n        var connection = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n        this.connection_ele = connection;\n        var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        path.classList.add(\"main-path\");\n        path.setAttributeNS(null, \"d\", \"\");\n        // path.innerHTML = 'a';\n        connection.classList.add(\"connection\");\n        connection.appendChild(path);\n        this.precanvas.appendChild(connection);\n        var id_output = getNodeID(ele.parentElement.parentElement.id);\n        var output_class = ele.classList[1];\n        this.dispatch(\"connectionStart\", {\n            output_id: id_output,\n            output_class: output_class,\n        });\n    };\n    Drawflow.prototype._drawConnectionTo = function (eX, eY) {\n        var precanvas = this.precanvas;\n        var zoom = this.zoom;\n        var precanvasRect = precanvas.getBoundingClientRect();\n        var path = this.connection_ele.children[0];\n        function getCenter(node) {\n            var rect = node.getBoundingClientRect();\n            return [\n                (rect.x - precanvasRect.x + rect.width / 2) / zoom,\n                (rect.y - precanvasRect.y + rect.width / 2) / zoom,\n            ];\n        }\n        var _a = getCenter(this.ele_selected), fromX = _a[0], fromY = _a[1];\n        var toX = (eX - this.precanvas.getBoundingClientRect().x) / zoom;\n        var toY = (eY - this.precanvas.getBoundingClientRect().y) / zoom;\n        var curvature = this.curvature;\n        var lineCurve = this.createCurvature(fromX, fromY, toX, toY, curvature);\n        path.setAttributeNS(null, \"d\", lineCurve);\n    };\n    Drawflow.prototype.addConnection = function (id_output, id_input, output_class, input_class, silent) {\n        if (silent === void 0) { silent = false; }\n        var nodeOneModule = this.getModuleFromNodeId(id_output);\n        var nodeTwoModule = this.getModuleFromNodeId(id_input);\n        if (nodeOneModule !== nodeTwoModule) {\n            return;\n        }\n        var dataNode = this.getNodeFromId(id_output);\n        var exist = false;\n        for (var _i = 0, _a = dataNode.outputs[output_class].connections; _i < _a.length; _i++) {\n            var output = _a[_i];\n            if (output.node == id_input && output.output == input_class) {\n                exist = true;\n            }\n        }\n        // Check connection exist\n        if (!exist) {\n            var moduleData = this.drawflow.drawflow[nodeOneModule].data;\n            //Create Connection\n            moduleData[id_output].outputs[output_class].connections.push({\n                node: id_input.toString(),\n                output: input_class,\n            });\n            moduleData[id_input].inputs[input_class].connections.push({\n                node: id_output.toString(),\n                input: output_class,\n            });\n            if (this.module === nodeOneModule) {\n                //Draw connection\n                var connection = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n                var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n                path.classList.add(\"main-path\");\n                path.setAttributeNS(null, \"d\", \"\");\n                // path.innerHTML = 'a';\n                connection.classList.add(\"connection\");\n                connection.classList.add(\"node_in_node-\" + id_input);\n                connection.classList.add(\"node_out_node-\" + id_output);\n                connection.classList.add(output_class);\n                connection.classList.add(input_class);\n                connection.appendChild(path);\n                this.precanvas.appendChild(connection);\n                this.updateNodeConnections(\"node-\" + id_output);\n                this.updateNodeConnections(\"node-\" + id_input);\n            }\n            if (!silent)\n                this.dispatch(\"connectionCreated\", {\n                    output_id: id_output,\n                    input_id: id_input,\n                    output_class: output_class,\n                    input_class: input_class,\n                });\n        }\n    };\n    Drawflow.prototype.updateConnection = function (connection, nodeFromElem, nodeToElem) {\n        var container = this.container;\n        var precanvas = this.precanvas;\n        var curvature = this.curvature;\n        var createCurvature = this.createCurvature;\n        var reroute_curvature = this.reroute_curvature;\n        var reroute_curvature_start_end = this.reroute_curvature_start_end;\n        var reroute_fix_curvature = this.reroute_fix_curvature;\n        var rerouteWidth = this.reroute_width;\n        var zoom = this.zoom;\n        if (!nodeFromElem) {\n            var nodeFromID = connection.classList[2].replace(\"node_out_\", \"\");\n            nodeFromElem = container.querySelector(\"#\".concat(nodeFromID));\n        }\n        if (!nodeToElem) {\n            var nodeToID = connection.classList[1].replace(\"node_in_\", \"\");\n            nodeToElem = container.querySelector(\"#\".concat(nodeToID));\n        }\n        if (!nodeFromElem || !nodeToElem) {\n            return;\n        }\n        var precanvasRect = precanvas.getBoundingClientRect();\n        function getCenter(node) {\n            var rect = node.getBoundingClientRect();\n            return [\n                (rect.x - precanvasRect.x + rect.width / 2) / zoom,\n                (rect.y - precanvasRect.y + rect.width / 2) / zoom,\n            ];\n        }\n        function getRerouteCenter(node) {\n            var rect = node.getBoundingClientRect();\n            return [\n                (rect.x - precanvasRect.x) / zoom + rerouteWidth,\n                (rect.y - precanvasRect.y) / zoom + rerouteWidth,\n            ];\n        }\n        var outputElem = nodeFromElem.querySelector(\".\" + connection.classList[3]);\n        var _a = getCenter(outputElem), fromX = _a[0], fromY = _a[1];\n        var inputElem = nodeToElem.querySelector(\".\" + connection.classList[4]);\n        var _b = getCenter(inputElem), toX = _b[0], toY = _b[1];\n        var points = connection.querySelectorAll(\".point\");\n        if (points.length === 0) {\n            var lineCurve = createCurvature(fromX, fromY, toX, toY, curvature);\n            connection.children[0].setAttributeNS(null, \"d\", lineCurve);\n        }\n        else {\n            var linecurve = \"\";\n            var reroute_fix = [];\n            var lastX = fromX;\n            var lastY = fromY;\n            var curvature_1 = reroute_curvature_start_end;\n            for (var i = 0; i < points.length; i++) {\n                var pointElem = points[i];\n                var _c = getRerouteCenter(pointElem), pointX = _c[0], pointY = _c[1];\n                var leftCurveSegment_1 = createCurvature(lastX, lastY, pointX, pointY, curvature_1);\n                linecurve += leftCurveSegment_1;\n                reroute_fix.push(leftCurveSegment_1);\n                lastX = pointX;\n                lastY = pointY;\n                curvature_1 = reroute_curvature;\n            }\n            curvature_1 = reroute_curvature_start_end;\n            var leftCurveSegment = createCurvature(lastX, lastY, toX, toY, curvature_1);\n            linecurve += leftCurveSegment;\n            reroute_fix.push(leftCurveSegment);\n            if (reroute_fix_curvature) {\n                reroute_fix.forEach(function (itempath, i) {\n                    connection.children[i].setAttributeNS(null, \"d\", itempath);\n                });\n            }\n            else {\n                connection.children[0].setAttributeNS(null, \"d\", linecurve);\n            }\n        }\n    };\n    Drawflow.prototype.updateNodeConnections = function (id) {\n        var connectionInTag = \"node_in_\" + id;\n        var connectionOutTag = \"node_out_\" + id;\n        var container = this.container;\n        var nodeElem = container.querySelector(\"#node-\".concat(id));\n        var connectionsOut = container.querySelectorAll(\".\".concat(connectionOutTag));\n        for (var i = 0; i < connectionsOut.length; i++) {\n            var connection = connectionsOut[i];\n            this.updateConnection(connection, nodeElem, null);\n        }\n        var connectionsIn = container.querySelectorAll(\".\".concat(connectionInTag));\n        for (var i = 0; i < connectionsIn.length; i++) {\n            var connection = connectionsIn[i];\n            this.updateConnection(connection, null, nodeElem);\n        }\n    };\n    Drawflow.prototype.createReroutePoint = function (ele, silent) {\n        if (silent === void 0) { silent = false; }\n        this.connection_selected.classList.remove(\"selected\");\n        var _a = getConnectionData(this.connection_selected.parentElement.classList), output_id = _a.output_id, input_id = _a.input_id, output_class = _a.output_class, input_class = _a.input_class;\n        this.connection_selected = null;\n        var point = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        point.classList.add(\"point\");\n        var pos_x = (this.pos_x - this.precanvas.getBoundingClientRect().x) * this.zoom;\n        var pos_y = (this.pos_y - this.precanvas.getBoundingClientRect().y) * this.zoom;\n        point.setAttributeNS(null, \"cx\", pos_x.toString());\n        point.setAttributeNS(null, \"cy\", pos_y.toString());\n        point.setAttributeNS(null, \"r\", this.reroute_width.toString());\n        var position_add_array_point = 0;\n        if (this.reroute_fix_curvature) {\n            var numberPoints = ele.parentElement.querySelectorAll(\".main-path\").length;\n            var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n            path.classList.add(\"main-path\");\n            path.setAttributeNS(null, \"d\", \"\");\n            ele.parentElement.insertBefore(path, ele.parentElement.children[numberPoints]);\n            if (numberPoints === 1) {\n                ele.parentElement.appendChild(point);\n            }\n            else {\n                var search_point = Array.from(ele.parentElement.children).indexOf(ele);\n                position_add_array_point = search_point;\n                ele.parentElement.insertBefore(point, ele.parentElement.children[search_point + numberPoints + 1]);\n            }\n        }\n        else {\n            ele.parentElement.appendChild(point);\n        }\n        var moduleData = this.drawflow.drawflow[this.module].data;\n        var connection = moduleData[output_id].outputs[output_class].connections.find(function (item) {\n            return item.node === input_id && item.output === input_class;\n        });\n        if (connection.points === undefined) {\n            connection.points = [];\n        }\n        if (this.reroute_fix_curvature) {\n            if (position_add_array_point > 0) {\n                connection.points.splice(position_add_array_point, 0, {\n                    pos_x: pos_x,\n                    pos_y: pos_y,\n                });\n            }\n            else {\n                connection.points.push({\n                    pos_x: pos_x,\n                    pos_y: pos_y,\n                });\n            }\n            ele.parentElement\n                .querySelectorAll(\".main-path.selected\")\n                .forEach(function (item) { return item.classList.remove(\"selected\"); });\n        }\n        else {\n            connection.points.push({\n                pos_x: pos_x,\n                pos_y: pos_y,\n            });\n        }\n        if (!silent)\n            this.dispatch(\"rerouteCreated\", output_id);\n        this.updateConnection(ele.ownerSVGElement);\n    };\n    Drawflow.prototype.removeReroutePoint = function (ele, silent) {\n        if (silent === void 0) { silent = false; }\n        var _a = getConnectionData(ele.ownerSVGElement.classList), output_id = _a.output_id, input_id = _a.input_id, output_class = _a.output_class, input_class = _a.input_class;\n        var numberPointPosition = Array.from(ele.parentElement.children).indexOf(ele) - 1;\n        var searchConnection = this.drawflow.drawflow[this.module].data[output_id].outputs[output_class].connections.findIndex(function (item) { return item.node === input_id && item.output === input_class; });\n        if (this.reroute_fix_curvature) {\n            var numberMainPath = ele.parentElement.querySelectorAll(\".main-path\").length;\n            ele.parentElement.children[numberMainPath - 1].remove();\n            numberPointPosition -= numberMainPath;\n            if (numberPointPosition < 0) {\n                numberPointPosition = 0;\n            }\n        }\n        this.drawflow.drawflow[this.module].data[output_id].outputs[output_class].connections[searchConnection].points.splice(numberPointPosition, 1);\n        ele.remove();\n        if (!silent)\n            this.dispatch(\"rerouteRemoved\", output_id);\n        this.updateNodeConnections(\"node-\".concat(output_id));\n    };\n    Drawflow.prototype.registerNode = function (name, html) {\n        this.noderegister[name] = html;\n    };\n    Drawflow.prototype.getNodeFromId = function (id) {\n        var moduleName = this.getModuleFromNodeId(id);\n        if (!moduleName)\n            return;\n        return JSON.parse(JSON.stringify(this.drawflow.drawflow[moduleName].data[id]));\n    };\n    Drawflow.prototype.getNodesFromName = function (name) {\n        var nodes = [];\n        var editor = this.drawflow.drawflow;\n        Object.keys(editor).map(function (moduleName) {\n            for (var node in editor[moduleName].data) {\n                if (editor[moduleName].data[node].name == name) {\n                    nodes.push(editor[moduleName].data[node].id);\n                }\n            }\n        });\n        return nodes;\n    };\n    Drawflow.prototype.addNode = function (name, num_in, num_out, ele_pos_x, ele_pos_y, classoverride, data, html, typenode, silent) {\n        var _a;\n        var _b;\n        if (typenode === void 0) { typenode = false; }\n        if (silent === void 0) { silent = false; }\n        var newNodeId;\n        if (this.useuuid) {\n            newNodeId = this.getUuid();\n        }\n        else {\n            newNodeId = this.nodeId.toString();\n        }\n        var parent = document.createElement(\"div\");\n        parent.classList.add(\"parent-node\");\n        var node = document.createElement(\"div\");\n        node.setAttribute(\"id\", \"node-\" + newNodeId);\n        node.classList.add(\"drawflow-node\");\n        if (classoverride) {\n            (_a = node.classList).add.apply(_a, classoverride.split(\" \"));\n        }\n        var inputs = document.createElement(\"div\");\n        inputs.classList.add(\"inputs\");\n        var outputs = document.createElement(\"div\");\n        outputs.classList.add(\"outputs\");\n        var json_inputs = {};\n        for (var x = 0; x < num_in; x++) {\n            var input = document.createElement(\"div\");\n            input.classList.add(\"input\");\n            input.classList.add(\"input_\" + (x + 1));\n            json_inputs[\"input_\" + (x + 1)] = { connections: [] };\n            inputs.appendChild(input);\n        }\n        var json_outputs = {};\n        for (var x = 0; x < num_out; x++) {\n            var output = document.createElement(\"div\");\n            output.classList.add(\"output\");\n            output.classList.add(\"output_\" + (x + 1));\n            json_outputs[\"output_\" + (x + 1)] = { connections: [] };\n            outputs.appendChild(output);\n        }\n        var content = document.createElement(\"div\");\n        content.classList.add(\"drawflow_content_node\");\n        insertObjectkeys(content, data);\n        node.style.top = ele_pos_y + \"px\";\n        node.style.left = ele_pos_x + \"px\";\n        node.appendChild(inputs);\n        node.appendChild(content);\n        node.appendChild(outputs);\n        parent.appendChild(node);\n        this.precanvas.appendChild(parent);\n        var json = {\n            id: newNodeId,\n            name: name,\n            data: (function convert(data, first) {\n                if (first === void 0) { first = true; }\n                if (data === null ||\n                    data === undefined ||\n                    (typeof data !== \"object\" && first)) {\n                    return {};\n                }\n                if (typeof data === \"object\" && !Array.isArray(data)) {\n                    var obj = {};\n                    for (var key in data) {\n                        if (Object.prototype.hasOwnProperty.call(data, key)) {\n                            var value = data[key];\n                            obj[key] = convert(value, false);\n                        }\n                    }\n                    return obj;\n                }\n                return data.toString();\n            })(data),\n            class: classoverride,\n            html: html,\n            typenode: typenode,\n            inputs: json_inputs,\n            outputs: json_outputs,\n            pos_x: ele_pos_x,\n            pos_y: ele_pos_y,\n        };\n        if (typenode === false) {\n            content.innerHTML = html;\n        }\n        else if (typenode === true) {\n            content.appendChild((_b = this.noderegister[html]) === null || _b === void 0 ? void 0 : _b.cloneNode(true));\n        }\n        else if (typeof typenode === \"function\") {\n            callRender(this, typenode, html, newNodeId, json, content);\n        }\n        else {\n            callRender(this, this.render, html, newNodeId, json, content);\n        }\n        this.drawflow.drawflow[this.module].data[newNodeId] = json;\n        if (!silent)\n            this.dispatch(\"nodeCreated\", newNodeId);\n        if (!this.useuuid) {\n            this.nodeId++;\n        }\n        return newNodeId;\n    };\n    Drawflow.prototype._addNodeImport = function (dataNode, precanvas) {\n        var _a;\n        dataNode.id = dataNode.id.toString();\n        var parent = document.createElement(\"div\");\n        parent.classList.add(\"parent-node\");\n        var node = document.createElement(\"div\");\n        node.setAttribute(\"id\", \"node-\" + dataNode.id);\n        node.classList.add(\"drawflow-node\");\n        if (dataNode.class) {\n            (_a = node.classList).add.apply(_a, dataNode.class.split(\" \"));\n        }\n        var inputs = document.createElement(\"div\");\n        inputs.classList.add(\"inputs\");\n        var outputs = document.createElement(\"div\");\n        outputs.classList.add(\"outputs\");\n        for (var input_item in dataNode.inputs) {\n            if (Object.hasOwnProperty.call(dataNode.inputs, input_item)) {\n                var input_connections = dataNode.inputs[input_item].connections;\n                var input = document.createElement(\"div\");\n                input.classList.add(\"input\");\n                input.classList.add(input_item);\n                inputs.appendChild(input);\n                for (var output_item in input_connections) {\n                    if (Object.hasOwnProperty.call(input_connections, output_item)) {\n                        var output_connection = input_connections[output_item];\n                        output_connection.node = output_connection.node.toString();\n                        var connection = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n                        var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n                        path.classList.add(\"main-path\");\n                        path.setAttributeNS(null, \"d\", \"\");\n                        // path.innerHTML = 'a';\n                        connection.classList.add(\"connection\");\n                        connection.classList.add(\"node_in_node-\" + dataNode.id);\n                        connection.classList.add(\"node_out_node-\" + output_connection.node);\n                        connection.classList.add(output_connection.input);\n                        connection.classList.add(input_item);\n                        connection.appendChild(path);\n                        precanvas.appendChild(connection);\n                    }\n                }\n            }\n        }\n        for (var x = 0; x < Object.keys(dataNode.outputs).length; x++) {\n            var output = document.createElement(\"div\");\n            output.classList.add(\"output\");\n            output.classList.add(\"output_\" + (x + 1));\n            outputs.appendChild(output);\n        }\n        var content = document.createElement(\"div\");\n        content.classList.add(\"drawflow_content_node\");\n        if (dataNode.typenode === false) {\n            content.innerHTML = dataNode.html;\n        }\n        else if (dataNode.typenode === true) {\n            content.appendChild(this.noderegister[dataNode.html].cloneNode(true));\n        }\n        else if (typeof dataNode.typenode === \"function\") {\n            callRender(this, dataNode.typenode, dataNode.html, dataNode.id, dataNode, content);\n        }\n        else {\n            callRender(this, this.render, dataNode.html, dataNode.id, dataNode, content);\n        }\n        insertObjectkeys(content, dataNode.data);\n        node.style.top = dataNode.pos_y + \"px\";\n        node.style.left = dataNode.pos_x + \"px\";\n        node.appendChild(inputs);\n        node.appendChild(content);\n        node.appendChild(outputs);\n        parent.appendChild(node);\n        this.precanvas.appendChild(parent);\n    };\n    Drawflow.prototype._addRerouteImport = function (dataNode) {\n        var reroute_width = this.reroute_width;\n        var reroute_fix_curvature = this.reroute_fix_curvature;\n        var container = this.container;\n        for (var output_class in dataNode.outputs) {\n            if (Object.prototype.hasOwnProperty.call(dataNode.outputs, output_class)) {\n                var output_item = dataNode.outputs[output_class];\n                for (var input_class in output_item.connections) {\n                    if (Object.prototype.hasOwnProperty.call(output_item.connections, input_class)) {\n                        var input_item = output_item.connections[input_class];\n                        var points = input_item.points;\n                        if (Array.isArray(input_item.points)) {\n                            var input_id = input_item.node;\n                            var input_class_2 = input_item.output;\n                            var ele = container.querySelector(\".connection.node_in_node-\" +\n                                input_id +\n                                \".node_out_node-\" +\n                                dataNode.id +\n                                \".\" +\n                                output_item +\n                                \".\" +\n                                input_class_2);\n                            if (reroute_fix_curvature) {\n                                for (var z = 0; z < points.length; z++) {\n                                    var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n                                    path.classList.add(\"main-path\");\n                                    path.setAttributeNS(null, \"d\", \"\");\n                                    ele.appendChild(path);\n                                }\n                            }\n                            for (var _i = 0, _a = input_item.points; _i < _a.length; _i++) {\n                                var item = _a[_i];\n                                var point = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n                                point.classList.add(\"point\");\n                                point.setAttributeNS(null, \"cx\", item.pos_x.toString());\n                                point.setAttributeNS(null, \"cy\", item.pos_y.toString());\n                                point.setAttributeNS(null, \"r\", reroute_width.toString());\n                                ele.appendChild(point);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Drawflow.prototype.changeNodeID = function (oldId, newId, silent) {\n        var moduleName = this.getModuleFromNodeId(oldId);\n        if (!moduleName)\n            return false;\n        var moduleData = this.drawflow.drawflow[moduleName].data;\n        var node = moduleData[oldId];\n        if (this.getNodeFromId(newId) || oldId === newId)\n            return false;\n        delete moduleData[oldId];\n        moduleData[newId] = node;\n        node.id = newId;\n        var nodeEl = this.precanvas.querySelector(\"#node-\".concat(oldId));\n        nodeEl.id = \"node-\".concat(newId);\n        for (var input_class in node.inputs) {\n            var input = node.inputs[input_class];\n            for (var _i = 0, _a = input.connections; _i < _a.length; _i++) {\n                var connectionIn = _a[_i];\n                var input_node = this.getNodeFromId(connectionIn.node);\n                for (var output_class in input_node.outputs) {\n                    var output = input_node.outputs[output_class];\n                    for (var _b = 0, _c = output.connections; _b < _c.length; _b++) {\n                        var connection = _c[_b];\n                        if (connection.node === oldId &&\n                            connection.output === input_class) {\n                            connection.node = newId;\n                        }\n                    }\n                }\n            }\n        }\n        for (var output_class in node.outputs) {\n            var output = node.outputs[output_class];\n            for (var _d = 0, _e = output.connections; _d < _e.length; _d++) {\n                var connectionOut = _e[_d];\n                var output_node = this.getNodeFromId(connectionOut.node);\n                for (var input_class in output_node.inputs) {\n                    var input = output_node.inputs[input_class];\n                    for (var _f = 0, _g = input.connections; _f < _g.length; _f++) {\n                        var connection = _g[_f];\n                        if (connection.node === oldId &&\n                            connection.input === output_class) {\n                            connection.node = newId;\n                        }\n                    }\n                }\n            }\n        }\n        var connectionEls = this.precanvas.querySelectorAll(\".node_in_node-\".concat(oldId, \",.node_out_node-\").concat(newId));\n        connectionEls.forEach(function (el) {\n            el.classList.replace(\".node_in_node-\".concat(oldId), \".node_in_node-\".concat(newId));\n            el.classList.replace(\".node_out_node-\".concat(oldId), \".node_out_node-\".concat(newId));\n        });\n        if (!silent)\n            this.dispatch(\"updateNodeId\", { oldId: oldId, newId: node.id });\n        return true;\n    };\n    Drawflow.prototype.updateNodeValue = function (event, silent) {\n        if (silent === void 0) { silent = false; }\n        var etarget = event.target;\n        var attr = etarget.attributes;\n        for (var i = 0; i < attr.length; i++) {\n            if (attr[i].nodeName.startsWith(\"df-\")) {\n                var keys = attr[i].nodeName.slice(3).split(\"-\");\n                var target = this.drawflow.drawflow[this.module].data[getNodeID(etarget.closest(\".drawflow_content_node\").parentElement.id)].data;\n                for (var index = 0; index < keys.length - 1; index += 1) {\n                    if (target[keys[index]] == null) {\n                        target[keys[index]] = {};\n                    }\n                    target = target[keys[index]];\n                }\n                target[keys[keys.length - 1]] = etarget.value;\n                if (etarget.isContentEditable) {\n                    target[keys[keys.length - 1]] = etarget.innerText;\n                }\n                if (!silent)\n                    this.dispatch(\"nodeDataChanged\", getNodeID(etarget.closest(\".drawflow_content_node\").parentElement.id));\n            }\n        }\n    };\n    Drawflow.prototype.updateNodeDataFromId = function (id, data) {\n        var moduleName = this.getModuleFromNodeId(id);\n        this.drawflow.drawflow[moduleName].data[id].data = data;\n        if (this.module === moduleName) {\n            var content = this.container.querySelector(\"#node-\" + id);\n            insertObjectkeys(content, data);\n        }\n    };\n    Drawflow.prototype.addNodeInput = function (id) {\n        var moduleName = this.getModuleFromNodeId(id);\n        var infoNode = this.getNodeFromId(id);\n        var numInputs = Object.keys(infoNode.inputs).length;\n        if (this.module === moduleName) {\n            //Draw input\n            var input = document.createElement(\"div\");\n            input.classList.add(\"input\");\n            input.classList.add(\"input_\" + (numInputs + 1));\n            var parent_1 = this.container.querySelector(\"#node-\" + id + \" .inputs\");\n            parent_1.appendChild(input);\n            this.updateNodeConnections(\"node-\" + id);\n        }\n        this.drawflow.drawflow[moduleName].data[id].inputs[\"input_\" + (numInputs + 1)] = { connections: [] };\n    };\n    Drawflow.prototype.addNodeOutput = function (id) {\n        var moduleName = this.getModuleFromNodeId(id);\n        var infoNode = this.getNodeFromId(id);\n        var numOutputs = Object.keys(infoNode.outputs).length;\n        if (this.module === moduleName) {\n            //Draw output\n            var output = document.createElement(\"div\");\n            output.classList.add(\"output\");\n            output.classList.add(\"output_\" + (numOutputs + 1));\n            var parent_2 = this.container.querySelector(\"#node-\" + id + \" .outputs\");\n            parent_2.appendChild(output);\n            this.updateNodeConnections(\"node-\" + id);\n        }\n        this.drawflow.drawflow[moduleName].data[id].outputs[\"output_\" + (numOutputs + 1)] = { connections: [] };\n    };\n    Drawflow.prototype.removeNodeInput = function (id, input_class) {\n        var moduleName = this.getModuleFromNodeId(id);\n        var nodeDataRef = this.drawflow.drawflow[moduleName].data[id];\n        if (this.module === moduleName) {\n            this.container\n                .querySelector(\"#node-\" + id + \" .inputs .input.\" + input_class)\n                .remove();\n        }\n        for (var _i = 0, _a = nodeDataRef.inputs[input_class].connections; _i < _a.length; _i++) {\n            var connection = _a[_i];\n            this.removeConnection(connection.node, id, connection.input, input_class);\n        }\n        // update inputs\n        var input_index = parseInt(input_class.slice(\"input_\".length)) - 1;\n        var num_in = Object.keys(nodeDataRef.inputs).length;\n        for (var i = input_index; i <= num_in; i++) {\n            var class_this = \"input_\" + (i + 1);\n            var class_next = \"input_\" + (i + 2);\n            nodeDataRef.inputs[class_this] = nodeDataRef.inputs[class_next];\n            for (var _b = 0, _c = nodeDataRef.inputs[class_this].connections; _b < _c.length; _b++) {\n                var connectionFrom = _c[_b];\n                var sourceNodeDataRef = this.drawflow.drawflow[moduleName].data[connectionFrom.node];\n                for (var output_class in sourceNodeDataRef.outputs) {\n                    if (Object.prototype.hasOwnProperty.call(sourceNodeDataRef.outputs, output_class)) {\n                        for (var _d = 0, _e = sourceNodeDataRef.outputs[output_class]\n                            .connections; _d < _e.length; _d++) {\n                            var connectionTo = _e[_d];\n                            if (connectionTo.node === id &&\n                                connectionTo.output === class_next) {\n                                connectionTo.output = class_this;\n                                if (this.module === moduleName) {\n                                    var connectionEl = this.container.querySelector(\".connection.node_in_node-\" +\n                                        connectionTo.node +\n                                        \".node_out_node-\" +\n                                        connectionFrom.node +\n                                        \".\" +\n                                        connectionTo.output +\n                                        \".\" +\n                                        connectionFrom.input);\n                                    connectionEl.classList.replace(class_next, class_this);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (this.module === moduleName) {\n                var input_el = this.container.querySelector(\"#node-\" + id + \" .inputs .input\" + class_next);\n                input_el.classList.replace(class_next, class_this);\n            }\n        }\n        delete nodeDataRef.inputs[\"input_\" + num_in];\n        this.updateNodeConnections(\"node-\" + id);\n    };\n    Drawflow.prototype.removeNodeOutput = function (id, output_class) {\n        var moduleName = this.getModuleFromNodeId(id);\n        var nodeDataRef = this.drawflow.drawflow[moduleName].data[id];\n        if (this.module === moduleName) {\n            this.container\n                .querySelector(\"#node-\" + id + \" .outputs .output.\" + output_class)\n                .remove();\n        }\n        for (var _i = 0, _a = nodeDataRef.outputs[output_class].connections; _i < _a.length; _i++) {\n            var connection = _a[_i];\n            this.removeConnection(connection.node, id, connection.output, output_class);\n        }\n        // update outputs\n        var output_index = parseInt(output_class.slice(\"output_\".length)) - 1;\n        var num_in = Object.keys(nodeDataRef.outputs).length;\n        for (var i = output_index; i <= num_in; i++) {\n            var class_this = \"output_\" + (i + 1);\n            var class_next = \"output_\" + (i + 2);\n            nodeDataRef.outputs[class_this] = nodeDataRef.outputs[class_next];\n            for (var _b = 0, _c = nodeDataRef.outputs[class_this]\n                .connections; _b < _c.length; _b++) {\n                var connectionFrom = _c[_b];\n                var sourceNodeDataRef = this.drawflow.drawflow[moduleName].data[connectionFrom.node];\n                for (var input_class in sourceNodeDataRef.inputs) {\n                    if (Object.prototype.hasOwnProperty.call(sourceNodeDataRef.inputs, input_class)) {\n                        for (var _d = 0, _e = sourceNodeDataRef.inputs[input_class]\n                            .connections; _d < _e.length; _d++) {\n                            var connectionTo = _e[_d];\n                            if (connectionTo.node === id &&\n                                connectionTo.input === class_next) {\n                                connectionTo.input = class_this;\n                                if (this.module === moduleName) {\n                                    var connectionEl = this.container.querySelector(\".connection.node_in_node-\" +\n                                        connectionTo.node +\n                                        \".node_out_node-\" +\n                                        connectionFrom.node +\n                                        \".\" +\n                                        connectionTo.input +\n                                        \".\" +\n                                        connectionFrom.output);\n                                    connectionEl.classList.replace(class_next, class_this);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (this.module === moduleName) {\n                var output_el = this.container.querySelector(\"#node-\" + id + \" .outputs .output\" + class_next);\n                output_el.classList.replace(class_next, class_this);\n            }\n        }\n        delete nodeDataRef.outputs[\"output_\" + num_in];\n        this.updateNodeConnections(\"node-\" + id);\n    };\n    Drawflow.prototype.removeNodeId = function (id, silent) {\n        if (silent === void 0) { silent = true; }\n        this.removeNodeConnectionsByNodeId(id);\n        var moduleName = this.getModuleFromNodeId(getNodeID(id));\n        if (this.module === moduleName) {\n            this.container.querySelector(\"#\".concat(id)).remove();\n        }\n        delete this.drawflow.drawflow[moduleName].data[getNodeID(id)];\n        if (!silent)\n            this.dispatch(\"nodeRemoved\", getNodeID(id));\n    };\n    Drawflow.prototype.removeSelectedConnection = function (silent) {\n        if (silent === void 0) { silent = false; }\n        if (this.connection_selected != null) {\n            var elem = this.connection_selected.parentElement;\n            var _a = getConnectionData(elem.classList), output_id_1 = _a.output_id, input_id_2 = _a.input_id, output_class_1 = _a.output_class, input_class_3 = _a.input_class;\n            elem.remove();\n            var moduleData = this.drawflow.drawflow[this.module].data;\n            var index_out = moduleData[output_id_1].outputs[output_class_1].connections.findIndex(function (item) { return item.node === input_id_2 && item.output === input_class_3; });\n            moduleData[output_id_1].outputs[output_class_1].connections.splice(index_out, 1);\n            var index_in = moduleData[input_id_2].inputs[input_class_3].connections.findIndex(function (item) { return item.node === output_id_1 && item.input === output_class_1; });\n            moduleData[input_id_2].inputs[input_class_3].connections.splice(index_in, 1);\n            if (!silent)\n                this.dispatch(\"connectionRemoved\", {\n                    output_id: output_id_1,\n                    input_id: input_id_2,\n                    output_class: output_class_1,\n                    input_class: input_class_3,\n                });\n            this.connection_selected = null;\n        }\n    };\n    Drawflow.prototype.removeConnection = function (id_output, id_input, output_class, input_class, silent) {\n        if (silent === void 0) { silent = false; }\n        var nodeOneModule = this.getModuleFromNodeId(id_output);\n        var nodeTwoModule = this.getModuleFromNodeId(id_input);\n        if (nodeOneModule === nodeTwoModule) {\n            // Check nodes in same module.\n            // Check connection exist\n            var exists = this.drawflow.drawflow[nodeOneModule].data[id_output].outputs[output_class].connections.findIndex(function (item) {\n                return item.node == id_input && item.output === input_class;\n            });\n            if (exists > -1) {\n                if (this.module === nodeOneModule) {\n                    // In same module with view.\n                    this.container\n                        .querySelector(\".connection.node_in_node-\" +\n                        id_input +\n                        \".node_out_node-\" +\n                        id_output +\n                        \".\" +\n                        output_class +\n                        \".\" +\n                        input_class)\n                        .remove();\n                }\n                var index_out = this.drawflow.drawflow[nodeOneModule].data[id_output].outputs[output_class].connections.findIndex(function (item) {\n                    return item.node == id_input && item.output === input_class;\n                });\n                this.drawflow.drawflow[nodeOneModule].data[id_output].outputs[output_class].connections.splice(index_out, 1);\n                var index_in = this.drawflow.drawflow[nodeOneModule].data[id_input].inputs[input_class].connections.findIndex(function (item) {\n                    return item.node == id_output && item.input === output_class;\n                });\n                this.drawflow.drawflow[nodeOneModule].data[id_input].inputs[input_class].connections.splice(index_in, 1);\n                if (!silent)\n                    this.dispatch(\"connectionRemoved\", {\n                        output_id: id_output,\n                        input_id: id_input,\n                        output_class: output_class,\n                        input_class: input_class,\n                    });\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    Drawflow.prototype.removeNodeConnectionsByNodeId = function (id, silent) {\n        if (silent === void 0) { silent = false; }\n        var connectionInTag = \"node_in_\" + id;\n        var connectionOutTag = \"node_out_\" + id;\n        var moduleData = this.drawflow.drawflow[this.module].data;\n        var connectionsOut = this.container.querySelectorAll(\".\".concat(connectionOutTag));\n        var _loop_1 = function (i) {\n            var _a = getConnectionData(connectionsOut[i].classList), output_id = _a.output_id, input_id = _a.input_id, output_class = _a.output_class, input_class = _a.input_class;\n            var index_in = moduleData[input_id].inputs[input_class].connections.findIndex(function (item) { return item.node === output_id && item.input === output_class; });\n            moduleData[input_id].inputs[input_class].connections.splice(index_in, 1);\n            var index_out = moduleData[output_id].outputs[output_class].connections.findIndex(function (item) { return item.node === input_id && item.output === input_class; });\n            moduleData[output_id].outputs[output_class].connections.splice(index_out, 1);\n            connectionsOut[i].remove();\n            if (!silent)\n                this_1.dispatch(\"connectionRemoved\", {\n                    output_id: output_id,\n                    input_id: input_id,\n                    output_class: output_class,\n                    input_class: input_class,\n                });\n        };\n        var this_1 = this;\n        for (var i = connectionsOut.length - 1; i >= 0; i--) {\n            _loop_1(i);\n        }\n        var connectionsIn = this.container.querySelectorAll(\".\".concat(connectionInTag));\n        var _loop_2 = function (i) {\n            var _b = getConnectionData(connectionsIn[i].classList), output_id = _b.output_id, input_id = _b.input_id, output_class = _b.output_class, input_class = _b.input_class;\n            var index_out = moduleData[output_id].outputs[output_class].connections.findIndex(function (item) { return item.node === input_id && item.output === input_class; });\n            moduleData[output_id].outputs[output_class].connections.splice(index_out, 1);\n            var index_in = moduleData[input_id].inputs[input_class].connections.findIndex(function (item) { return item.node === output_id && item.input === output_class; });\n            moduleData[input_id].inputs[input_class].connections.splice(index_in, 1);\n            connectionsIn[i].remove();\n            if (!silent)\n                this_2.dispatch(\"connectionRemoved\", {\n                    output_id: output_id,\n                    input_id: input_id,\n                    output_class: output_class,\n                    input_class: input_class,\n                });\n        };\n        var this_2 = this;\n        for (var i = connectionsIn.length - 1; i >= 0; i--) {\n            _loop_2(i);\n        }\n    };\n    Drawflow.prototype.getModuleFromNodeId = function (id) {\n        var editor = this.drawflow.drawflow;\n        for (var moduleName in editor) {\n            if (Object.hasOwnProperty.call(editor, moduleName)) {\n                var moduleData = editor[moduleName].data;\n                for (var nodeId in moduleData) {\n                    if (Object.hasOwnProperty.call(moduleData, nodeId) &&\n                        nodeId === id.toString()) {\n                        return moduleName;\n                    }\n                }\n            }\n        }\n    };\n    Drawflow.prototype.addModule = function (name, silent) {\n        if (silent === void 0) { silent = false; }\n        this.drawflow.drawflow[name] = { data: {} };\n        if (!silent)\n            this.dispatch(\"moduleCreated\", name);\n    };\n    Drawflow.prototype.changeModule = function (name, silent) {\n        if (silent === void 0) { silent = false; }\n        if (!silent)\n            this.dispatch(\"moduleChanged\", name);\n        this.module = name;\n        this.precanvas.innerHTML = \"\";\n        this.canvas_x = 0;\n        this.canvas_y = 0;\n        this.pos_x = 0;\n        this.pos_y = 0;\n        this.mouse_x = 0;\n        this.mouse_y = 0;\n        this.zoom = 1;\n        this.zoom_last_value = 1;\n        this.precanvas.style.transform = \"\";\n        this.import(this.drawflow, false);\n    };\n    Drawflow.prototype.removeModule = function (name, silent) {\n        if (silent === void 0) { silent = false; }\n        if (this.module === name) {\n            this.changeModule(\"Home\");\n        }\n        delete this.drawflow.drawflow[name];\n        if (!silent)\n            this.dispatch(\"moduleRemoved\", name);\n    };\n    Drawflow.prototype.clearSelectedModule = function () {\n        while (this.precanvas.hasChildNodes()) {\n            this.precanvas.firstChild.remove();\n        }\n        this.drawflow.drawflow[this.module] = { data: {} };\n    };\n    Drawflow.prototype.clear = function () {\n        while (this.precanvas.hasChildNodes()) {\n            this.precanvas.firstChild.remove();\n        }\n        this.drawflow = { drawflow: { Home: { data: {} } } };\n    };\n    Drawflow.prototype.export = function (silent) {\n        if (silent === void 0) { silent = false; }\n        var dataExport = JSON.parse(JSON.stringify(this.drawflow));\n        if (!silent)\n            this.dispatch(\"export\", dataExport);\n        return dataExport;\n    };\n    Drawflow.prototype.import = function (data, silent) {\n        if (silent === void 0) { silent = false; }\n        this.clear();\n        this.drawflow = JSON.parse(JSON.stringify(data));\n        this.load();\n        if (!silent) {\n            this.dispatch(\"import\", \"import\");\n        }\n    };\n    Drawflow.prototype.on = function (event, callback) {\n        // Check if the callback is not a function\n        if (typeof callback !== \"function\") {\n            console.error(\"The listener callback must be a function, the given type is \".concat(typeof callback));\n            return false;\n        }\n        // Check if the event is not a string\n        if (typeof event !== \"string\") {\n            console.error(\"The event name must be a string, the given type is \".concat(typeof event));\n            return false;\n        }\n        // Check if this event not exists\n        if (this.events[event] === undefined) {\n            this.events[event] = {\n                listeners: [],\n            };\n        }\n        this.events[event].listeners.push(callback);\n        return true;\n    };\n    Drawflow.prototype.removeListener = function (event, callback) {\n        // Check if this event not exists\n        if (!this.events[event])\n            return false;\n        var listeners = this.events[event].listeners;\n        var listenerIndex = listeners.indexOf(callback);\n        var hasListener = listenerIndex > -1;\n        if (hasListener)\n            listeners.splice(listenerIndex, 1);\n        return hasListener;\n    };\n    Drawflow.prototype.dispatch = function (event, details) {\n        // Check if this event not exists\n        if (this.events[event] === undefined) {\n            // console.error(`This event: ${event} does not exist`);\n            return false;\n        }\n        for (var _i = 0, _a = this.events[event].listeners.slice(); _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener(details);\n        }\n        return true;\n    };\n    Drawflow.prototype.getUuid = function () {\n        // http://www.ietf.org/rfc/rfc4122.txt\n        var s = [];\n        var hexDigits = \"0123456789abcdef\";\n        for (var i = 0; i < 36; i++) {\n            s[i] = hexDigits.charAt(Math.floor(Math.random() * 0x10));\n        }\n        s[14] = \"4\"; // bits 12-15 of the time_hi_and_version field to 0010\n        s[19] = hexDigits.charAt((parseInt(s[19], 16) & 0x3) | 0x8); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n        s[8] = s[13] = s[18] = s[23] = \"-\";\n        return s.join(\"\");\n    };\n    return Drawflow;\n}());\nexport default Drawflow;\n"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","getNodeID","str","slice","getConnectionData","classList","output_id","input_id","output_class","input_class","insertObjectkeys","content","keys","value","completeKey","concat","join","elems","querySelectorAll","i","length","elem","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","toString","isContentEditable","innerText","callRender","editor","render","type","id","data","events","event","on","callback","console","error","undefined","listeners","push","removeListener","listenerIndex","indexOf","splice","dispatch","details","forEach","listener","selected","handle","nodeMoved","_a","id1","x","y","nodeSelected","nodeUnselected","nodeUpdated","nodeUpdateId","oldId","newId","nodeRemoved","eventName","connectionStart","connection","connectionCreated","connectionRemoved","register","noderegister","Drawflow","container","options","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","precanvas","nodeId","ele_selected","node_selected","drag","drag_point","editor_selected","connection_ele","connection_selected","canvas_x","canvas_y","pos_x","pos_x_start","pos_y","pos_y_start","mouse_x","mouse_y","first_click","drawflow","Home","editor_mode","zoom","zoom_max","zoom_min","zoom_value","zoom_last_value","curvature","reroute","reroute_fix_curvature","reroute_curvature_start_end","reroute_curvature","reroute_width","force_first_input","draggable_inputs","useuuid","evCache","prevDiff","Math","log2","set","pow","refreshZoom","configurable","start","add","tabIndex","document","createElement","appendChild","addEventListener","_handleInputEnd","bind","_handleInputMove","_handleInputStart","_handleContextmenu","_handleKey","_handleZoom","updateNodeValue","_dblclick","onpointerdown","_handlePointerdown","onpointermove","_handlePointermove","onpointerup","_handlePointerup","onpointercancel","onpointerout","onpointerleave","load","ev","pointerId","curDiff","abs","clientX","zoomIn","zoomOut","_removeEvent","e","_this","clearSelection","remove","deselectConnection","target","MouseEvent","button","closest","matches","preventDefault","getElementsByClassName","parentElement","tagName","hasAttribute","_createConnection","ownerSVGElement","item","removeNodeId","removeSelectedConnection","contains","TouchEvent","touches","clientY","e_pos_x","e_pos_y","_drawConnectionTo","style","transform","moduleData","selectedID","dx","dy","left","top","updateNodeConnections","getBoundingClientRect","setAttributeNS","input_id_1","input_class_1","numberPointPosition","Array","from","children","searchConnection","outputs","connections","findIndex","node","output","points","ele_last","elementFromPoint","nodeData","getNodeFromId","inputs","id_input","id_output","input","deletebox","innerHTML","metaKey","ctrlKey","zoomLevel","deltaY","deltaX","createReroutePoint","removeReroutePoint","silent","min","max","resetZoom","_addNodeImport","_addRerouteImport","number","moduleName","parseInt","createCurvature","start_pos_x","start_pos_y","end_pos_x","end_pos_y","line_x","line_y","handleSize","ele","createElementNS","path","eX","eY","rect","precanvasRect","width","fromX","fromY","toX","toY","lineCurve","addConnection","nodeOneModule","getModuleFromNodeId","exist","_i","updateConnection","nodeFromElem","nodeToElem","rerouteWidth","nodeFromID","replace","querySelector","nodeToID","getCenter","linecurve","reroute_fix","lastX","lastY","curvature_1","pointX","pointY","leftCurveSegment_1","leftCurveSegment","itempath","connectionInTag","connectionOutTag","nodeElem","connectionsOut","connectionsIn","point","position_add_array_point","numberPoints","insertBefore","search_point","find","numberMainPath","registerNode","name","html","JSON","parse","stringify","getNodesFromName","nodes","map","addNode","num_in","num_out","ele_pos_x","ele_pos_y","classoverride","typenode","newNodeId","getUuid","parent","setAttribute","apply","split","json_inputs","json_outputs","json","convert","first","isArray","class","cloneNode","dataNode","input_item","input_connections","output_item","output_connection","input_class_2","z","changeNodeID","nodeEl","connectionIn","input_node","connectionOut","output_node","el","etarget","attr","attributes","nodeName","startsWith","index","updateNodeDataFromId","addNodeInput","infoNode","numInputs","addNodeOutput","numOutputs","removeNodeInput","nodeDataRef","removeConnection","input_index","class_this","class_next","connectionFrom","sourceNodeDataRef","connectionTo","removeNodeOutput","output_index","removeNodeConnectionsByNodeId","output_id_1","input_id_2","output_class_1","input_class_3","index_out","index_in","_loop_1","this_1","_loop_2","this_2","addModule","changeModule","import","removeModule","clearSelectedModule","hasChildNodes","firstChild","clear","export","dataExport","hasListener","s","hexDigits","charAt","floor","random"],"sourceRoot":""}